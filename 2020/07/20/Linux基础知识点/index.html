<!DOCTYPE html>
<html>
<head hexo-theme='https://volantis.js.org/#3.0-beta1'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- 页面元数据 -->
  
  <title>Linux基础知识点 - 特特的天</title>
  
    <meta name="keywords" content="Linux">
  

  
    <meta name="description" content="这里，有我学习linux的一些笔记^_^">
  

  <!-- feed -->
  

  <!-- import meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13/css/all.min.css">
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">

  

  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
  

  

  <!-- import link -->
  

  
  
    
<link rel="stylesheet" href="/css/style.css">

  

  
  
</head>

<body>
  
  
  
  <div class="cover-wrapper">
    <cover class='cover post' style="display: none;">
      <div class='cover-body'>
  <div class='a'>
    
      <img class='logo' src='https://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/welcome_here.png'/>
    
    
      <p class="title">特特的天</p>
    
    
      <p class="subtitle">While there is life there is hope</p>
    
  </div>
  <div class='b'>
    
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <input type="text" class="input u-search-input" placeholder="搜索" />
          <i class="icon fas fa-search fa-fw"></i>
        </form>
      </div>
    
    <div class='menu navigation'>
      <ul class='cover-list-h'>
        
          
            <li>
              <a class="nav home"
                href="/"
                
                
                id="home">
                <i class='fas fa-rss fa-fw'></i>主页
              </a>
            </li>
          
            <li>
              <a class="nav home"
                href="/archives/"
                
                
                id="archives">
                <i class='fas fa-archive fa-fw'></i>博文
              </a>
            </li>
          
            <li>
              <a class="nav home"
                href="/tags/"
                
                
                id="tags">
                <i class='fas fa-tags fa-fw'></i>标签
              </a>
            </li>
          
        
      </ul>
    </div>
  </div>
</div>

      <div class="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
    </cover>
    <header class="l_header shadow blur">
  <div class='container'>
  <div class='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h' id="pjax-header-nav-list">
        <li><a class="s-comment fas fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a class="s-toc fas fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
          
          
            特特的天
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h'>
          
          
          
            
            
              <li>
                <a class="flat-box" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="flat-box" href=https://tetedetian.github.io/
                  
                  
                  
                    id="https:tetedetiangithubio"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
          
				</ul>
			</div>

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fas fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>

			<ul class='switcher nav-list-h'>
				
					<li><a class="s-search fas fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fas fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="flat-box" href=/
                  
                  
                  
                    id="home"
                  >
                  <i class='fas fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fas fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=/archives/
                  
                  
                  
                    id="archives"
                  >
                  <i class='fas fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="flat-box" href=https://tetedetian.github.io/
                  
                  
                  
                    id="https:tetedetiangithubio"
                  >
                  <i class='fas fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

  </div>
  

  <div class="l_body nocover">
    <div class='body-wrapper' id="pjax-container">
      
        <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->



<div id="pjax-data" style="display: none">
  <div id="pjax-ispage">true</div>
  <div id="pjax-pageTitle">Linux基础知识点</div>
  <div id="pjax-enable-cover">true</div>
  
  <div id="valine-path">none</div>
  <div id="valine-placeholder">none</div>
  
  
</div>


<script>
  // 处理封面 此时 jquery 还没加载
  if ("none" == "none") { // 移除封面
    document.getElementsByClassName('cover')[0].style.display = "none";
    document.getElementsByClassName('l_body')[0].classList.add("nocover");
    document.getElementsByClassName('l_header', 'cover-wrapper')[0].classList.add("show");
  } else {
    if ("none" == "blog") { // 半屏
      document.getElementsByClassName('cover')[0].classList.remove("full");
      document.getElementsByClassName('cover')[0].classList.add("half");
      document.getElementsByClassName('scroll-down')[0].style.display = "none";
    } else if ("none" == "docs") { // 全屏
      document.getElementsByClassName('cover')[0].classList.remove("half");
      document.getElementsByClassName('cover')[0].classList.add("full");
      document.getElementsByClassName('scroll-down')[0].style.display = "";
    }
    document.getElementsByClassName('cover')[0].style.display = "";
    document.getElementsByClassName('l_body', 'show')[0].classList.remove("nocover");
    document.getElementsByClassName('l_header', 'cover-wrapper')[0].classList.remove("show");
  }
</script>

      
      

<div class='l_main'>
  

  
    <article id="post" class="post white-box reveal shadow article-type-post" itemscope itemprop="blogPost">
      


  <section class='meta'>
    
      
      
      <div class="meta" id="header-meta">
        
          
  <h1 class="title">
    <a href="/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/">
      Linux基础知识点
    </a>
  </h1>


        
        <div class='new-meta-box'>
          
            
          
            
              
<div class='new-meta-item author'>
  <a href="https://tetedetian2.github.io//" rel="nofollow">
    <img no-lazy src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png">
    <p>特特的天</p>
  </a>
</div>

            
          
            
              

            
          
            
              <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：Jul 20, 2020</p>
  </a>
</div>

            
          
            
              
  <div class="new-meta-item browse valine">
    <a class='notlink'>
      <i class="fas fa-eye fa-fw" aria-hidden="true"></i>
      
      <span id="/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/" class="leancloud_visitors" data-flag-title="Linux基础知识点">
      <p>
        <span class="leancloud-visitors-count"></span>
      </p>
      </span>
    </a>
  </div>


            
          
            
              
<div class="new-meta-item comments-count">
  
  <a href="/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/#comments">
    <i class="fas fa-comment-dots fa-fw"></i>
    <span class="valine-comment-count" data-xid="/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/">0</span>
    <span class="leancloud-comments-count">&nbsp;</span>
  </a>
</div>


            
          
            
              

            
          
        </div>
        
          <hr>
        
      </div>
    
  </section>


      <section class="article typo">
        <div class="article-entry" itemprop="articleBody">
          
          
          <p>这里，有我学习linux的一些笔记^_^</p>
<a id="more"></a>

<p>[TOC]</p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul>
<li><strong>为什么学习 Linux 系统？</strong>  </li>
</ul>
<p>可以看一下下图linux相对于windows的优势</p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200709110136166.png" alt="image-20200709110136166" style="zoom:80%;" />

<p>Linux的这些优势就是需要学习Linux的部分原因</p>
<h1 id="一、linux基础命令"><a href="#一、linux基础命令" class="headerlink" title="一、linux基础命令"></a>一、linux基础命令</h1><h3 id="1-命令格式"><a href="#1-命令格式" class="headerlink" title="1.命令格式"></a>1.命令格式</h3><p><code>命令名称 [命令参数] [命令对象]</code></p>
<p>命令名称、命令参数、命令对象之间请用空格键分隔。<br>命令对象一般是指要处理的文件、目录、用户等资源，而命令参数可以用长格式（完整的选项名称,例如：<code>man --help</code>）， 也可以用短格式（单个字母的缩写，例如：<code>man -h</code>）， 两者分别用<code>--</code>与<code>-</code>作为前缀  .</p>
<h3 id="2-常用系统工作命令"><a href="#2-常用系统工作命令" class="headerlink" title="2.常用系统工作命令"></a>2.常用系统工作命令</h3><ul>
<li><strong>man命令</strong></li>
</ul>
<p>man可以用来查看命令的帮助信息，比如我想了解<code>date</code>命令的帮助信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man date</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>echo命令</strong></li>
</ul>
<p><strong>格式</strong>:“echo [字符串 | $变量]”，echo 命令用于在终端输出字符串或变量提取后的值。</p>
<p>1.输出字符串“tiantian”  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ echo tiantian</span><br><span class="line">tiantian</span><br></pre></td></tr></table></figure>

<p>2.提取变量SHELL的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ echo $SHELL</span><br><span class="line">&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>date命令</strong></li>
</ul>
<p><strong>格式</strong>：“date [选项] [+指定的格式]”  ，date 命令用于显示及设置系统的时间或日期  。</p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200709134743022.png" alt="image-20200709134743022" style="zoom:67%;" />



<ul>
<li><strong>reboot命令</strong></li>
</ul>
<p>reboot命令用于重启系统</p>
<ul>
<li><strong>poweroff命令</strong></li>
</ul>
<p>poweroff命令用于关闭系统</p>
<ul>
<li><strong>wget命令</strong></li>
</ul>
<ul>
<li><strong>ps命令</strong></li>
</ul>
<p><strong>格式</strong>：“ps [参数]”，ps 命令用于查看系统中的进程状态，</p>
<ul>
<li><strong>top命令</strong></li>
</ul>
<p><strong>格式</strong>： top  </p>
<p>top 命令用于动态地监视进程活动与系统负载等信息</p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200709141112655.png" alt="image-20200709141112655" style="zoom:67%;" />

<p>top 命令执行结果的前 5 行为系统整体的统计信息，其所代表的含义如下。</p>
<blockquote>
<p>第 1 行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为 1 分钟、 5分钟、 15 分钟内的平均值，数值越小意味着负载越低）。<br> 第 2 行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数。<br> 第 3 行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等。（96.0id 意味着有 96.0%的 CPU 处理器资源处于空闲 ）</p>
<p>第 4 行：物理内存总量、内存使用量、内存空闲量、作为内核缓存的内存量。</p>
<p>第 5 行：虚拟内存总量、虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量。  </p>
</blockquote>
<ul>
<li><strong>pidof命令</strong></li>
</ul>
<p><strong>格式</strong>：“pidof [参数] [服务名称]”， pidof 命令用于查询某个指定服务进程的 PID 值，</p>
<p>每个进程的进程号码值（PID）是唯一的，因此可以通过 PID 来区分不同的进程。  </p>
<ul>
<li><strong>kill命令</strong></li>
</ul>
<p><strong>格式</strong>：“kill [参数] [进程 PID]”，  kill 命令用于终止某个指定 PID 的服务进程</p>
<ul>
<li><strong>killall 命令</strong>  </li>
</ul>
<p><strong>格式</strong>：“killall [参数] [进程名称]”，killall 命令用于终止某个指定名称的服务所对应的全部进程。</p>
<h3 id="2-系统状态检测命令"><a href="#2-系统状态检测命令" class="headerlink" title="2.系统状态检测命令"></a>2.系统状态检测命令</h3><ul>
<li><strong>ifconfig 命令</strong>  </li>
</ul>
<p>ifconfig 命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备] [参数]”。  </p>
<p>输出如下，网卡名称、 <strong>inet</strong> 参数后面的 IP 地址、 <strong>ether</strong> 参数后面的网卡物理地址（又称为 MAC 地址），以及 <strong>RX</strong>、 <strong>TX</strong> 的接收数据包与发送数据包的个数及累计流量 ，都是重要参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# ifconfig</span><br><span class="line">ens33: flags&#x3D;4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.231.130  netmask 255.255.255.0  broadcast 192.168.231.255</span><br><span class="line">        inet6 fe80::cce1:d7a5:4905:6f54  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:09:5b:2c  txqueuelen 1000  (以太网)</span><br><span class="line">        RX packets 2960  bytes 1124457 (1.1 MB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 1266  bytes 186200 (186.2 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags&#x3D;73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (本地环回)</span><br><span class="line">        RX packets 516  bytes 41664 (41.6 KB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 516  bytes 41664 (41.6 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>uname</strong>命令</li>
</ul>
<p>uname 命令用于查看系统内核与系统版本等信息，格式为“uname [-a]”。  </p>
<ul>
<li>*<em>uptime 命令  *</em></li>
</ul>
<p>uptime 用于查看系统的负载信息，格式为 uptime。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# uptime</span><br><span class="line"> 14:47:03 up  1:35,  2 users,  load average: 0.04, 0.01, 0.00</span><br></pre></td></tr></table></figure>

<p>它可以显示当前<strong>系统时间</strong>、<strong>系统已运行时间</strong>、<strong>启用终端数量</strong>以及<strong>平均负载值</strong>等信息。平均负载值指的是系统在最近 1 分钟、 5 分钟、 15 分钟内的压力情况，负载值越低越好  。</p>
<ul>
<li><strong>free 命令</strong>  </li>
</ul>
<p>free 用于显示当前系统中内存的使用量信息，格式为“free [-h]”。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# free -h</span><br><span class="line">              总计         已用        空闲        共享       缓冲&#x2F;缓存      可用</span><br><span class="line">内存：        1.9G        929M        387M        7.0M        641M        865M</span><br><span class="line">交换：        2.0G          0B        2.0G</span><br></pre></td></tr></table></figure>

<p><strong>共享</strong>：进程共享的内存量。<strong>缓冲/缓存</strong>：磁盘缓存的内存量。<strong>可用</strong>：缓存的内存量。</p>
<p>（我的系统显示的是中文）</p>
<ul>
<li><strong>who 命令</strong>  </li>
</ul>
<p>who 用于查看当前登入主机的用户终端信息，格式为“who [参数]”。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# who</span><br><span class="line">tian     :0           2020-07-09 13:12 (:0)</span><br><span class="line">tian     pts&#x2F;2        2020-07-09 13:15 (192.168.231.1)</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>last 命令</strong></li>
</ul>
<p>last 命令用于查看所有系统的登录记录，格式为“last [参数]”。</p>
<ul>
<li><strong>history 命令</strong></li>
</ul>
<p>history 命令用于显示历史执行过的命令，格式为“history”，要清除记录，用<code>history -c</code>。还可以使用“!编码数字”的方式来重复执行某一次的命令。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# history</span><br><span class="line">    1  history</span><br><span class="line">    2  date</span><br><span class="line">    3  history</span><br><span class="line">root@tian-virtual-machine:~# !2</span><br><span class="line">date</span><br><span class="line">2020年 07月 09日 星期四 15:10:56 CST</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>sosreport 命令</strong></li>
</ul>
<p>sosreport 命令用于收集系统配置及架构信息并输出诊断文档，格式为 sosreport。  </p>
<h3 id="3-工作目录切换命令"><a href="#3-工作目录切换命令" class="headerlink" title="3.工作目录切换命令"></a>3.工作目录切换命令</h3><ul>
<li><strong>pwd 命令</strong>  </li>
</ul>
<p>pwd 命令用于显示用户当前所处的工作目录，格式为“pwd [选项]”。  </p>
<ul>
<li><strong>cd命令</strong></li>
</ul>
<p>cd 命令用于切换工作路径，格式为“cd [目录名称]”。  </p>
<p><code>cd ~</code>切换到根目录，<code>cd -</code>切换到上一次的目录.</p>
<ul>
<li><strong>ls命令</strong></li>
</ul>
<p>ls 命令用于显示目录中的文件信息，格式为“ls [选项] [文件] ”。  </p>
<p><code>ls -a</code>看到全部文件（包括隐藏文件）  ,<code>ls -l</code>查看文件的属性、大小等详细信息。  </p>
<h3 id="4-文本文件编辑命令"><a href="#4-文本文件编辑命令" class="headerlink" title="4.文本文件编辑命令"></a>4.文本文件编辑命令</h3><ul>
<li><strong>cat命令</strong></li>
</ul>
<p>cat 命令用于查看纯文本文件（内容较少的），格式为“cat [选项] [文件]”。  </p>
<ul>
<li>*<em>more 命令  *</em></li>
</ul>
<p>more 命令用于查看纯文本文件（内容较多的），格式为“more [选项]文件”。  </p>
<p>可以使用空格键或回车键向下翻页  </p>
<ul>
<li><strong>head 命令</strong>  </li>
</ul>
<p>head 命令用于查看纯文本文档的前 N 行，格式为“head [选项] [文件]”。  </p>
<ul>
<li>*<em>tail 命令  *</em></li>
</ul>
<p>tail 命令用于查看纯文本文档的后 N 行或持续刷新内容，格式为“tail [选项] [文件]”。  </p>
<ul>
<li><strong>tr 命令</strong>  </li>
</ul>
<p>tr 命令用于替换文本文件中的字符，格式为“tr [原始字符] [目标字符]”。  </p>
<ul>
<li><strong>wc 命令</strong>  </li>
</ul>
<p>wc 命令用于统计指定文本的行数、字数、字节数，格式为“wc [参数] 文本”。  </p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-l</td>
<td align="center">只显示行数</td>
</tr>
<tr>
<td align="center">-w</td>
<td align="center">只显示单词数</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">只显示字节数</td>
</tr>
</tbody></table>
<ul>
<li><strong>stat 命令</strong>  </li>
</ul>
<p>stat 命令用于查看文件的具体存储信息和时间等信息，格式为“stat 文件名称”。  </p>
<ul>
<li><strong>cut 命令</strong>  </li>
</ul>
<p>cut 命令用于按“列”提取文本字符，格式为“cut [参数] 文本”。  </p>
<ul>
<li><strong>diff 命令</strong>  </li>
</ul>
<p>diff 命令用于比较多个文本文件的差异，格式为“diff [参数] 文件”。  </p>
<p>以使用–brief 参数来确认两个文件是否不同，还可以使用-c参数来详细比较出多个文件的差异之处，  </p>
<h2 id="5-文件目录管理命令"><a href="#5-文件目录管理命令" class="headerlink" title="5.文件目录管理命令"></a>5.文件目录管理命令</h2><ul>
<li><strong>touch 命令</strong>  </li>
</ul>
<p>touch 命令用于创建空白文件或设置文件的时间，格式为“touch [选项] [文件]”。  </p>
<p>创建tian.txt文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ touch tian.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>mkdir 命令</strong>  </li>
</ul>
<p>mkdir 命令用于创建空白的目录，格式为“mkdir [选项] 目录”。  </p>
<p>创建tian文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ mkdir tian</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>cp 命令</strong>  </li>
</ul>
<p>cp 命令用于复制文件或目录，格式为“cp [选项] 源文件 目标文件”。  </p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>保留原始文件的属性</td>
</tr>
<tr>
<td>-d</td>
<td>若对象为“链接文件”，则保留该“链接文件”的属性</td>
</tr>
<tr>
<td>-r</td>
<td>递归持续复制（用于目录）</td>
</tr>
<tr>
<td>-i</td>
<td>若目标文件存在则询问是否覆盖</td>
</tr>
<tr>
<td>-a</td>
<td>相当于-pdr（p、 d、 r 为上述参数）</td>
</tr>
</tbody></table>
<p>将tian.txt复制到tian文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ cp tian.txt tian</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>mv 命令</strong>  </li>
</ul>
<p>mv 命令用于剪切文件或将文件重命名，格式为“mv [选项] 源文件 [目标路径|目标文件名]”。  </p>
<ul>
<li><strong>rm 命令</strong>  </li>
</ul>
<p>rm 命令用于删除文件或目录，格式为“rm [选项] 文件”。</p>
<p>rm 命令后跟上-f 参数来强制删除。</p>
<p> 想要删除一个目录，需要在 rm 命令后面一个-r 参数    </p>
<ul>
<li><strong>dd 命令</strong>  </li>
</ul>
<p>dd 命令用于按照指定大小和个数的数据块来复制文件或转换文件，格式为“dd [参数]”。  </p>
<ul>
<li><strong>file 命令</strong>  </li>
</ul>
<p>file 命令用于查看文件的类型，格式为“file 文件名”。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ file tian.txt</span><br><span class="line">tian.txt: ASCII text</span><br></pre></td></tr></table></figure>



<h2 id="6-打包与压缩的命令"><a href="#6-打包与压缩的命令" class="headerlink" title="6.打包与压缩的命令"></a>6.打包与压缩的命令</h2><ul>
<li><strong>tar 命令</strong>  </li>
</ul>
<p>tar 命令用于对文件进行打包压缩或解压，格式为“tar [选项] [文件]”。  </p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-c</td>
<td align="center">创建压缩文件</td>
</tr>
<tr>
<td align="center">-x</td>
<td align="center">解开压缩文件</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="center">查看压缩包内有哪些文件</td>
</tr>
<tr>
<td align="center">-z</td>
<td align="center">用 Gzip 压缩或解压</td>
</tr>
<tr>
<td align="center">-j</td>
<td align="center">用 bzip2 压缩或解压</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">显示压缩或解压的过程</td>
</tr>
<tr>
<td align="center">-f</td>
<td align="center">目标文件名</td>
</tr>
<tr>
<td align="center">-p</td>
<td align="center">保留原始的权限与属性</td>
</tr>
<tr>
<td align="center">-P</td>
<td align="center">使用绝对路径来压缩</td>
</tr>
<tr>
<td align="center">-C</td>
<td align="center">指定解压到的目录</td>
</tr>
</tbody></table>
<p>将tian文件夹用 Gzip 压缩，并且显示压缩的过程，压缩文件命名为tian.gz</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ tar -czvf tian.gz tian</span><br><span class="line">tian&#x2F;</span><br><span class="line">tian&#x2F;tian.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>grep 命令</strong>  </li>
</ul>
<p>grep 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为“grep [选项] [文件]”。  </p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-b</td>
<td align="center">将可执行文件（binary）当作文本文件（text）来搜索</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">仅显示找到的行数</td>
</tr>
<tr>
<td align="center">-i</td>
<td align="center">忽略大小写</td>
</tr>
<tr>
<td align="center">-n</td>
<td align="center">显示行号</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">反向选择—仅列出没有“关键词”的行</td>
</tr>
</tbody></table>
<p>在tian.txt文件中找“c”,结果只显示c的行数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ grep -n c tian.txt</span><br><span class="line">3:c</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>find 命令</strong>  </li>
</ul>
<p>find 命令用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”。  </p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-name</td>
<td>匹配名称</td>
</tr>
<tr>
<td>-perm</td>
<td>匹配权限（mode 为完全匹配， -mode 为包含即可）</td>
</tr>
<tr>
<td>-user</td>
<td>匹配所有者</td>
</tr>
<tr>
<td>-group</td>
<td>匹配所有组</td>
</tr>
<tr>
<td>-mtime -n +n</td>
<td>匹配修改内容的时间（-n 指 n 天以内， +n 指 n 天以前）</td>
</tr>
<tr>
<td>-atime -n +n</td>
<td>匹配访问文件的时间（-n 指 n 天以内， +n 指 n 天以前）</td>
</tr>
<tr>
<td>-ctime -n +n</td>
<td>匹配修改文件权限的时间（-n 指 n 天以内， +n 指 n 天以前）</td>
</tr>
<tr>
<td>-nouser</td>
<td>匹配无所有者的文件</td>
</tr>
<tr>
<td>-nogroup</td>
<td>匹配无所有组的文件</td>
</tr>
<tr>
<td>-newer f1 !f2</td>
<td>匹配比文件 f1 新但比 f2 旧的文件</td>
</tr>
<tr>
<td>–type b/d/c/p/l/f</td>
<td>匹配文件类型（后面的字幕参数依次表示块设备、目录、字符设备、管道、 链接文件、文本文件）</td>
</tr>
<tr>
<td>-size</td>
<td>匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小于 50KB 的文件）</td>
</tr>
<tr>
<td>-prune</td>
<td>忽略某个目录</td>
</tr>
<tr>
<td>-exec …… {};</td>
<td>后面可跟用于进一步处理搜索结果的命令（下文会有演示）</td>
</tr>
</tbody></table>
<h1 id="第三章——管道符、重定向与环境变量"><a href="#第三章——管道符、重定向与环境变量" class="headerlink" title="第三章——管道符、重定向与环境变量"></a>第三章——管道符、重定向与环境变量</h1><h2 id="1-输入输出重定向"><a href="#1-输入输出重定向" class="headerlink" title="1.输入输出重定向"></a>1.输入输出重定向</h2><p><strong>输入重定向</strong>：把文件导入到命令中。</p>
<p><strong>输出重定向</strong>：把原本要输出到屏幕的数据信息写入到指定文件中。</p>
<blockquote>
<p><strong>标准输出重定向</strong>: 错误信息不会被输出到重定向的文件里。</p>
<p><strong>错误输出重定向</strong>: 错误信息也会输出到重定向的文件里。两者具体区别可以看下面的例子</p>
</blockquote>
<p>​                    </p>
<p> <strong><em>输入重定向中用到的符号及其作用</em></strong></p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &lt; 文件</td>
<td>将文件作为命令的标准输入</td>
</tr>
<tr>
<td>命令 &lt;&lt; 分界符</td>
<td>从标准输入中读入，直到遇见分界符才停止</td>
</tr>
<tr>
<td>命令 &lt; 文件 1 &gt; 文件 2</td>
<td>将文件 1 作为命令的标准输入并将标准输出到文件 2</td>
</tr>
</tbody></table>
<p> <strong><em>输出重定向中用到的符号及其作用</em></strong></p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &gt; 文件</td>
<td>将标准输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td>命令 2&gt; 文件</td>
<td>将错误输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件</td>
<td>将标准输出重定向到一个文件中（追加到原有内容的后面）</td>
</tr>
<tr>
<td>命令 2&gt;&gt; 文件</td>
<td>将错误输出重定向到一个文件中（追加到原有内容的后面）</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件 2&gt;&amp;1 或 命令 &amp;&gt;&gt; 文件</td>
<td>将标准输出与错误输出共同写入到文件中（追加到原有内容的 后面）</td>
</tr>
</tbody></table>
<p><strong>例子</strong>：</p>
<p><strong>1</strong>.将<code>man ls</code>的输出内容写到tian.txt文件里面去</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ man ls &gt; tian.txt</span><br></pre></td></tr></table></figure>

<p><strong>2</strong>.用<code>tian tian aaaa</code>覆盖tian.txt里面的内容，<code>tian tian bbbb</code>追加在后面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ echo &quot;tian tian aaaa&quot;&gt;tian.txt</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ cat tian.txt</span><br><span class="line">tian tian aaaa</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ echo &quot;tian tian bbbb&quot;&gt;&gt;tian.txt</span><br><span class="line">tian tian aaaa</span><br><span class="line">tian tian bbbb</span><br></pre></td></tr></table></figure>

<p><strong>3</strong>.使用标准输出重定向（222是不存在的目录，瞎编的）</p>
<p>可以看到，第3行进行查看tian.txt，显示是空，说明错误提示并没有输入到tian.txt里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ ls -l 222  &gt;tian.txt</span><br><span class="line">ls: 无法访问&#39;222&#39;: 没有那个文件或目录</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ cat tian.txt</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$</span><br></pre></td></tr></table></figure>

<p><strong>4</strong>.使用错误输出重定向（222是不存在的目录，瞎编的）</p>
<p>可以看到，第2行进行查看tian.txt，显示内容就是<code>ls -l 222 2&gt;tian.txt</code>的错误信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ ls -l 222 2&gt;tian.txt</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ cat tian.txt</span><br><span class="line">ls: 无法访问&#39;222&#39;: 没有那个文件或目录</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$</span><br></pre></td></tr></table></figure>



<h2 id="2-管道命令符（-）"><a href="#2-管道命令符（-）" class="headerlink" title="2.管道命令符（|）"></a>2.管道命令符（|）</h2><p><strong>作用</strong>：把前一个命令原本要输出到屏幕的数据当作是后一个命令的标准输入  </p>
<h2 id="3-命令行的通配符"><a href="#3-命令行的通配符" class="headerlink" title="3.命令行的通配符"></a>3.命令行的通配符</h2><p><strong>星号（*）</strong>：匹配零个或多个字符</p>
<p><strong>问号（?）</strong>：代表匹配单个字符</p>
<p><strong>[0-9]</strong> : 代表匹配 0～9之间的单个数字的字符,当然，括号里面的范围可以自己定义。</p>
<p><strong>[abc]</strong> :则是代表匹配 a、 b、 c 三个字符中的任意一个字符。  </p>
<h2 id="4-常用的转义字符"><a href="#4-常用的转义字符" class="headerlink" title="4.常用的转义字符"></a>4.常用的转义字符</h2><p>4 个最常用的转义字符如下所示。</p>
<blockquote>
<p><strong>反斜杠（\）</strong>：使反斜杠后面的一个变量变为单纯的字符串。<br><strong>单引号（’’）</strong>：转义其中所有的变量为单纯的字符串。<br><strong>双引号（””）</strong>：保留其中的变量属性，不进行转义处理。<br><strong>反引号（``）</strong>：把其中的命令执行后返回结果。  </p>
</blockquote>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~&#x2F;tian$   echo uname -a</span><br><span class="line">uname -a</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian$ echo &#96;uname -a&#96;</span><br><span class="line">Linux tian-virtual-machine 5.3.0-51-generic #44~18.04.2-Ubuntu SMP Thu Apr 23 14:27:18 UTC 2020 x86_64 x86_64 x86_64 GNU&#x2F;Linux</span><br></pre></td></tr></table></figure>



<h2 id="5-重要的环境变量"><a href="#5-重要的环境变量" class="headerlink" title="5.重要的环境变量"></a>5.重要的环境变量</h2><p>Linux 系统中最重要的 10 个环境变量  </p>
<table>
<thead>
<tr>
<th>变量名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>用户的主目录（即家目录）</td>
</tr>
<tr>
<td>SHELL</td>
<td>用户在使用的 Shell 解释器名称</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>输出的历史命令记录条数</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>保存的历史命令记录条数</td>
</tr>
<tr>
<td>MAIL</td>
<td>邮件保存路径</td>
</tr>
<tr>
<td>LANG</td>
<td>系统语言、语系名称</td>
</tr>
<tr>
<td>RANDOM</td>
<td>生成一个随机数字</td>
</tr>
<tr>
<td>PS1</td>
<td>Bash 解释器的提示符</td>
</tr>
<tr>
<td>PATH</td>
<td>定义解释器搜索用户执行命令的路径</td>
</tr>
<tr>
<td>EDITOR</td>
<td>用户默认的文本编辑器</td>
</tr>
</tbody></table>
<p>查看变量值，可以使用<code>echo $变量</code>,例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH</span><br></pre></td></tr></table></figure>

<p>我们完全可以自行创建变量，来满足工作需求。例如设置一个名称为 WORKDIR 的变量，方便用户更轻松地进入一个层次较深的目录：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ mkdir tian&#x2F;zhu&#x2F;da</span><br><span class="line">tian@tian-virtual-machine:~$ WORKDIR&#x3D;tian&#x2F;zhu&#x2F;da</span><br><span class="line">tian@tian-virtual-machine:~$ cd $WORKDIR</span><br><span class="line">tian@tian-virtual-machine:~&#x2F;tian&#x2F;zhu&#x2F;da$ pwd</span><br><span class="line">&#x2F;home&#x2F;tian&#x2F;tian&#x2F;zhu&#x2F;da</span><br></pre></td></tr></table></figure>



<h1 id="第四章——Vim-编辑器与-Shell-命令脚本"><a href="#第四章——Vim-编辑器与-Shell-命令脚本" class="headerlink" title="第四章——Vim 编辑器与 Shell 命令脚本"></a>第四章——Vim 编辑器与 Shell 命令脚本</h1><h2 id="1-Vim-文本编辑器"><a href="#1-Vim-文本编辑器" class="headerlink" title="1.Vim 文本编辑器"></a>1.Vim 文本编辑器</h2><h3 id="1-1三种模式"><a href="#1-1三种模式" class="headerlink" title="1.1三种模式"></a>1.1三种模式</h3><blockquote>
<p>(1)<strong>命令模式</strong>：控制光标移动，可对文本进行复制、粘贴、删除和查找等工作。<br>(2)<strong>输入模式</strong>：正常的文本录入。<br>(3)<strong>末行模式</strong>：保存或退出文档，以及设置编辑环境。 </p>
</blockquote>
<p>在每次运行 Vim 编辑器时，默认进入命令模式  </p>
<p><strong>三种模式切换方法</strong>： </p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200712173900187.png" alt="image-20200712173900187" style="zoom:67%;" />



<h3 id="1-2-常用命令"><a href="#1-2-常用命令" class="headerlink" title="1.2 常用命令"></a>1.2 常用命令</h3><p>（<strong>1）命令模式中常用的一些命令</strong></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>dd</td>
<td>删除（剪切）光标所在整行</td>
</tr>
<tr>
<td>5dd</td>
<td>删除（剪切）从光标处开始的 5 行</td>
</tr>
<tr>
<td>yy</td>
<td>复制光标所在整行</td>
</tr>
<tr>
<td>5yy</td>
<td>复制从光标处开始的 5 行</td>
</tr>
<tr>
<td>n</td>
<td>显示搜索命令定位到的下一个字符串</td>
</tr>
<tr>
<td>N</td>
<td>显示搜索命令定位到的上一个字符串</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一步的操作</td>
</tr>
<tr>
<td>p</td>
<td>将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td>
</tr>
</tbody></table>
<p><strong>（2）末行模式中常用的一些命令</strong></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>:w</td>
<td>保存</td>
</tr>
<tr>
<td>:q</td>
<td>退出</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出（放弃对文档的修改内容）</td>
</tr>
<tr>
<td>:wq!</td>
<td>强制保存退出</td>
</tr>
<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>
<tr>
<td>:set nonu</td>
<td>不显示行号</td>
</tr>
<tr>
<td>:命令</td>
<td>执行该命令</td>
</tr>
<tr>
<td>:整数</td>
<td>跳转到该行</td>
</tr>
<tr>
<td>:s/one/two</td>
<td>将当前光标所在行的第一个 one 替换成 two</td>
</tr>
<tr>
<td>:s/one/two/g</td>
<td>将当前光标所在行的所有 one 替换成 two</td>
</tr>
<tr>
<td>:%s/one/two/g</td>
<td>将全文中的所有 one 替换成 two</td>
</tr>
<tr>
<td>?字符串</td>
<td>在文本中从下至上搜索该字符串</td>
</tr>
<tr>
<td>/字符串</td>
<td>在文本中从上至下搜索该字符串</td>
</tr>
</tbody></table>
<h2 id="2-编写-Shell-脚本"><a href="#2-编写-Shell-脚本" class="headerlink" title="2.编写 Shell 脚本"></a>2.编写 Shell 脚本</h2><h3 id="2-1编写一个简单脚本"><a href="#2-1编写一个简单脚本" class="headerlink" title="2.1编写一个简单脚本"></a>2.1编写一个简单脚本</h3><p>第一行的脚本声明（#!）用来告诉系统使用哪种 Shell 解释器来执行该脚本。</p>
<p>第二行的注释信息（#）是对脚本功能和某些命令的介绍信息，使得自己或他人在日后看到这个脚本内容时，可以快速知道该<br>脚本的作用或一些警告信息。</p>
<p>第三、四行的可执行语句也就是我们平时执行的 Linux 命令了。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# touch tiana.sh</span><br><span class="line">root@tian-virtual-machine:~# vim tiana.sh</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#一个简单脚本</span><br><span class="line">pwd</span><br><span class="line">ls -a</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">root@tian-virtual-machine:~# cat tiana.sh</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#一个简单脚本</span><br><span class="line">pwd</span><br><span class="line">ls -a</span><br><span class="line">root@tian-virtual-machine:~# bash tiana.sh</span><br><span class="line">&#x2F;root</span><br><span class="line">.  ..  .bash_history  .bashrc  .cache  .gnupg  .profile  tiana.sh  .viminfo</span><br><span class="line">root@tian-virtual-machine:~#</span><br></pre></td></tr></table></figure>



<h3 id="2-2-接收用户的参数"><a href="#2-2-接收用户的参数" class="headerlink" title="2.2 接收用户的参数"></a>2.2 接收用户的参数</h3><p>一些字符的含义：</p>
<blockquote>
<p><strong>$0</strong> ：当前 Shell 脚本程序的名称</p>
<p><strong>$#</strong>：参数总数</p>
<p> <strong>$*</strong>：对应的是所有位置的参数值</p>
<p><strong>$?</strong>：对应的是显示上一次命令的执行返回值</p>
<p><strong>$N</strong>：第 N 个位置的参数值  </p>
</blockquote>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tian@tian-virtual-machine:~$ vim tiana.sh</span><br><span class="line"></span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">echo &quot;当前脚本名称是$0&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;当前总共有$#个参数，分别是$*&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;第一个参数是$1&quot;</span><br><span class="line"></span><br><span class="line">~</span><br><span class="line">这里省略了一大堆“~”</span><br><span class="line">~</span><br><span class="line">&quot;tiana.sh&quot; [新] 8L, 123C 已写入                                                                                                 </span><br><span class="line">tian@tian-virtual-machine:~$ sh tiana.sh 1 2 3 4</span><br><span class="line">当前脚本名称是tiana.sh</span><br><span class="line">当前总共有4个参数，分别是1 2 3 4</span><br><span class="line">第一个参数是1</span><br><span class="line">tian@tian-virtual-machine:~$</span><br></pre></td></tr></table></figure>



<h3 id="2-3判断用户的参数"><a href="#2-3判断用户的参数" class="headerlink" title="2.3判断用户的参数"></a>2.3判断用户的参数</h3><p><strong>（1）文件判断</strong></p>
<p>Shell 脚本中的条件测试语法可以判断表达式是否成立，若条件成立则返回数字 0，否则便返回其他随机数值。  </p>
<p>条件测试语法的执行格式如下图所示，切记，<strong>条件表达式两边均应有一个空格</strong>。  </p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200713131623637.png" alt="image-20200713131623637" style="zoom:80%;" />

<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>测试文件是否为目录类型</td>
</tr>
<tr>
<td>-e</td>
<td>测试文件是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>判断是否为一般文件</td>
</tr>
<tr>
<td>-r</td>
<td>测试当前用户是否有权限读取</td>
</tr>
<tr>
<td>-w</td>
<td>测试当前用户是否有权限写入</td>
</tr>
<tr>
<td>-x</td>
<td>测试当前用户是否有权限执行</td>
</tr>
</tbody></table>
<div align="center">文件测试所用参数表<div>



<p><strong>（2）逻辑判断</strong></p>
<p>还可以利用逻辑语句对测试结果进行逻辑分析，根据测试结果可实现不同的效果。</p>
<p><strong>&amp;&amp;</strong>：表示当前面的命令执行成功后才会执行它后面的命令 。</p>
<p><strong>||</strong>  ：表示当前面的命令执行失败后才会执行它后面的命令  </p>
<p><strong>！</strong>  ：表示把条件测试中的判断结果取相反值  </p>
<p><strong>例子</strong>(tian.sh是存在的，t.sh是不存在的)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# ls -a</span><br><span class="line">.  ..  .bash_history  .bashrc  .cache  .gnupg  .profile  tiana.sh  tian.sh  .viminfo</span><br><span class="line">root@tian-virtual-machine:~# [ -f tian.sh ]</span><br><span class="line">root@tian-virtual-machine:~# echo $?</span><br><span class="line">0</span><br><span class="line">root@tian-virtual-machine:~# [ -f tian.sh ] &amp;&amp; echo &quot;存在&quot;</span><br><span class="line">存在</span><br><span class="line">root@tian-virtual-machine:~# [ -f t.sh ] || echo &quot;存在&quot;</span><br><span class="line">存在</span><br><span class="line">root@tian-virtual-machine:~# [ ! -f tian.sh ] || echo &quot;存在&quot;</span><br><span class="line">存在</span><br><span class="line">root@tian-virtual-machine:~#</span><br></pre></td></tr></table></figure>

<p><strong>再来看一个复杂一点的例子：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# [ ! -f tian.sh ] &amp;&amp; echo &quot;不存在&quot; || echo &quot;存在&quot; </span><br><span class="line">存在</span><br></pre></td></tr></table></figure>



<p><strong>（3）整数判断</strong></p>
<p>整数比较运算符仅是对数字的操作，不能将数字与字符串、文件等内容一起操作  </p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>是否等于</td>
</tr>
<tr>
<td>-ne</td>
<td>是否不等于</td>
</tr>
<tr>
<td>-gt</td>
<td>是否大于</td>
</tr>
<tr>
<td>-lt</td>
<td>是否小于</td>
</tr>
<tr>
<td>-le</td>
<td>是否等于或小于</td>
</tr>
<tr>
<td>-ge</td>
<td>是否大于或等于</td>
</tr>
</tbody></table>
<div align="center">可用的整数比较运算符表<div>

<p><strong>例子1</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# [ 10 -eq 10 ] &amp;&amp; echo &quot;10&#x3D;10&quot;</span><br><span class="line">10&#x3D;10</span><br></pre></td></tr></table></figure>

<p><strong>例子2</strong>：判断内存是否不足，小于1024内存不足</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# free -m</span><br><span class="line">              总计         已用        空闲      共享    缓冲&#x2F;缓存    可用</span><br><span class="line">内存：        1958         878         442           9         638         914</span><br><span class="line">交换：        2047           0        2047</span><br><span class="line">root@tian-virtual-machine:~# free -m | grep &quot;内存：&quot;</span><br><span class="line">内存：        1958         878         442           9         638         914</span><br><span class="line">root@tian-virtual-machine:~# free -m</span><br><span class="line">              总计         已用        空闲      共享    缓冲&#x2F;缓存    可用</span><br><span class="line">内存：        1958         878         442           9         638         914</span><br><span class="line">交换：        2047           0        2047</span><br><span class="line">root@tian-virtual-machine:~# free -m | grep &quot;内存：&quot;</span><br><span class="line">内存：        1958         878         442           9         638         914</span><br><span class="line">root@tian-virtual-machine:~# free -m | grep &quot;内存：&quot; | awk &#39;&#123;print $4&#125;&#39;</span><br><span class="line">442</span><br><span class="line">root@tian-virtual-machine:~# FreeMem&#x3D;&#96;free -m | grep &quot;内存：&quot; | awk &#39;&#123;print $4&#125;&#39;&#96;</span><br><span class="line">root@tian-virtual-machine:~# echo $FreeMem</span><br><span class="line">441            </span><br><span class="line">root@tian-virtual-machine:~# [ $FreeMem -lt 1024 ] &amp;&amp; echo &quot;内存不足&quot;</span><br><span class="line">内存不足</span><br><span class="line">root@tian-virtual-machine:~#</span><br></pre></td></tr></table></figure>

<p><code>free -m</code>: 获取当前系统正在使用及可用的内存量信息，-m是以Mb显示。</p>
<p><code>grep &quot;内存：&quot;</code>:只显示“内存”这一行。</p>
<p><code>awk &#39;{print $4}&#39;</code>:只保留第四列 。</p>
<p><strong>（4）.字符判断</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>比较字符串内容是否相同</td>
</tr>
<tr>
<td>!=</td>
<td>比较字符串内容是否不同</td>
</tr>
<tr>
<td>-z</td>
<td>判断字符串内容是否为空</td>
</tr>
</tbody></table>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# [ fkjdk &#x3D; dslfk ]</span><br><span class="line">root@tian-virtual-machine:~# echo $?</span><br><span class="line">1</span><br><span class="line">root@tian-virtual-machine:~# [ ff &#x3D; ff ]</span><br><span class="line">root@tian-virtual-machine:~# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>



<h3 id="2-4流程控制语句"><a href="#2-4流程控制语句" class="headerlink" title="2.4流程控制语句"></a>2.4流程控制语句</h3><p><strong>（1）if 条件测试语句</strong>  </p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200713214739410.png" alt="image-20200713214739410" style="zoom:80%;" />

<p><strong>例子</strong>：</p>
<p>为了避免用户等待时间过长，需要通过-c 参数来规定尝试的次数，并使用-i 参数定义每个数据包的发送间隔，以及使用-W 参数定义等待超时时间  ，192.168.231.134是虚拟机ip地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# vim test_ping.sh</span><br><span class="line">#!bin&#x2F;bash</span><br><span class="line">ping -c 3 -i 0.2 -w 3 $1 &amp;&gt; &#x2F;dev&#x2F;null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">        echo &quot;Host $1 is On-line&quot;</span><br><span class="line">else</span><br><span class="line"></span><br><span class="line">        echo &quot;Host $1 is off-line&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">&quot;test_ping.sh&quot; 10L, 135C 已写入                                                                                                 </span><br><span class="line">root@tian-virtual-machine:~# bash test_ping.sh 192.168.231.134</span><br><span class="line">Host 192.168.231.134 is On-line</span><br><span class="line">root@tian-virtual-machine:~# bash test_ping.sh 192.168.231.133</span><br><span class="line">Host 192.168.231.133 is off-line</span><br><span class="line">root@tian-virtual-machine:~#</span><br></pre></td></tr></table></figure>

<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200713215013499.png" alt="image-20200713215013499" style="zoom:80%;" />

<p><strong>（2）for 条件循环语句</strong>  </p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200713222547486.png" alt="image-20200713222547486" style="zoom:80%;" />

<p><strong>例子</strong>：尝试让脚本从文本中自动读取主机列表（ip_test.txt），然后自动逐个测试这些主机是否在线。  </p>
<p><strong>$（命令）</strong>:执行括号或双引号括起来的命令。  </p>
<p><strong>/dev/null</strong> 是一个被称作 Linux 黑洞的文件，把输出信息重定向到这个文件等同于删除数据（类似于没有回收功能的垃圾箱），可以让用户的屏幕窗口保持简洁。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# vim ip_test.txt</span><br><span class="line">192.168.231.134</span><br><span class="line"></span><br><span class="line">192.168.231.135</span><br><span class="line"></span><br><span class="line">192.168.231.136</span><br><span class="line">root@tian-virtual-machine:~# vim ip_test.sh</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">HLIST&#x3D;$(cat ip_test.txt)</span><br><span class="line">for IP in $HLIST</span><br><span class="line">do</span><br><span class="line">        ping -c 3 -i 0.2 -w 3 $IP &amp;&gt; &#x2F;dev&#x2F;null</span><br><span class="line">        if [ $? -eq 0 ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;HOST $IP is On-line&quot;</span><br><span class="line">        else</span><br><span class="line"></span><br><span class="line">                echo &quot;HOST $IP is off-line&quot;</span><br><span class="line">        fi</span><br><span class="line">done</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">&quot;ip_test.sh&quot; 13L, 197C 已写入                                                                                                   </span><br><span class="line">root@tian-virtual-machine:~# bash ip_test.sh</span><br><span class="line">HOST 192.168.231.134 is off-line</span><br><span class="line">HOST 192.168.231.135 is On-line</span><br><span class="line">HOST 192.168.231.136 is off-line</span><br><span class="line">root@tian-virtual-machine:~#</span><br></pre></td></tr></table></figure>



<p><strong>(3)while 条件循环语句</strong>  </p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200713232222990.png" alt="image-20200713232222990" style="zoom:80%;" />

<p><strong>例子</strong>：编写一个用来猜测数值大小的脚本 guess.sh。  </p>
<p><strong>$RANDOM</strong>：调取出一个随机的数值（范围为 0～32767） </p>
<p><strong>expr</strong>：使用 expr 命令取得$RANDOM结果  </p>
<p><strong>read -p</strong>：读入用户输入的信息到后面的变量（INT），-p是添加提示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# vim guess.sh</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">PRICE&#x3D;$(expr $RANDOM % 1000)</span><br><span class="line">TIMES&#x3D;0</span><br><span class="line">echo &quot;我这里有个宝贝价格在0~999之间，猜猜看是多少？&quot;</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">        read -p &quot;请输入你猜测的价格：&quot; INT</span><br><span class="line">        let TIMES++</span><br><span class="line">        if [ $INT -eq $PRICE ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;恭喜你答对了！实际价格是$PRICE&quot;</span><br><span class="line">                echo &quot;你共猜了$TIMES次&quot;</span><br><span class="line">                exit 0</span><br><span class="line">        elif [ $INT -gt $PRICE ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;太高了！&quot;</span><br><span class="line">        else</span><br><span class="line">                echo &quot;太低了！&quot;</span><br><span class="line">        fi</span><br><span class="line">done</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">&quot;guess.sh&quot; 20L, 408C 已写入                                                                                                     </span><br><span class="line">root@tian-virtual-machine:~# bash guess.sh</span><br><span class="line">我这里有个宝贝价格在0~999之间，猜猜看是多少？</span><br><span class="line">请输入你猜测的价格：500</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜测的价格：750</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜测的价格：875</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜测的价格：812</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜测的价格：840</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜测的价格：858</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜测的价格：850</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜测的价格：854</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜测的价格：852</span><br><span class="line">恭喜你答对了！实际价格是852</span><br><span class="line">你共猜了9次</span><br></pre></td></tr></table></figure>



<p><strong>（4）case 条件测试语句</strong>  </p>
<img src="http://tetedetian.oss-cn-shenzhen.aliyuncs.com/img/image-20200713234812734.png" alt="image-20200713234812734" style="zoom: 67%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxprobe ~]# vim Checkkeys.sh</span><br><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">read -p &quot;请输入一个字符，并按 Enter 键确认： &quot; KEY</span><br><span class="line">case &quot;$KEY&quot; in</span><br><span class="line">[a-z]|[A-Z])</span><br><span class="line">echo &quot;您输入的是 字母。 &quot;</span><br><span class="line">;;</span><br><span class="line">[0-9])</span><br><span class="line">echo &quot;您输入的是 数字。 &quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;您输入的是 空格、功能键或其他控制字符。 &quot;</span><br><span class="line">esac</span><br><span class="line">[root@linuxprobe ~]# bash Checkkeys.sh</span><br><span class="line">请输入一个字符，并按 Enter 键确认： 6</span><br><span class="line">您输入的是 数字。</span><br><span class="line">[root@linuxprobe ~]# bash Checkkeys.sh</span><br><span class="line">请输入一个字符，并按 Enter 键确认： p</span><br><span class="line">您输入的是 字母。</span><br><span class="line">[root@linuxprobe ~]# bash Checkkeys.sh</span><br><span class="line">请输入一个字符，并按 Enter 键确认： ^[[15~</span><br><span class="line">您输入的是 空格、功能键或其他控制字符。</span><br></pre></td></tr></table></figure>



<h2 id="2-5计划任务服务程序"><a href="#2-5计划任务服务程序" class="headerlink" title="2.5计划任务服务程序"></a>2.5计划任务服务程序</h2><h1 id="第五章——用户身份与文件权限"><a href="#第五章——用户身份与文件权限" class="headerlink" title="第五章——用户身份与文件权限"></a>第五章——用户身份与文件权限</h1><h2 id="1-用户身份与能力"><a href="#1-用户身份与能力" class="headerlink" title="1.用户身份与能力"></a>1.用户身份与能力</h2><h3 id="1-1-useradd-命令"><a href="#1-1-useradd-命令" class="headerlink" title="1.1 useradd 命令"></a>1.1 useradd 命令</h3><p>useradd 命令用于创建新的用户，格式为“useradd [选项] 用户名”。  </p>
<div align="center">useradd 命令中的用户参数以及作用</div>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>指定用户的家目录（默认为/home/username）</td>
</tr>
<tr>
<td>-e</td>
<td>账户的到期时间，格式为 YYYY-MM-DD.</td>
</tr>
<tr>
<td>-u</td>
<td>指定该用户的默认 UID</td>
</tr>
<tr>
<td>-g</td>
<td>指定一个初始的用户基本组（必须已存在）</td>
</tr>
<tr>
<td>-G</td>
<td>指定一个或多个扩展用户组</td>
</tr>
<tr>
<td>-N</td>
<td>不创建与用户同名的基本用户组</td>
</tr>
<tr>
<td>-s</td>
<td>指定该用户的默认 Shell 解释器</td>
</tr>
</tbody></table>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# useradd -d &#x2F;tian&#x2F;zhu zhu</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# id zhu</span><br><span class="line">uid&#x3D;1001(zhu) gid&#x3D;1001(zhu) 组&#x3D;1001(zhu)</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian#</span><br></pre></td></tr></table></figure>



<h3 id="1-2-groupadd-命令"><a href="#1-2-groupadd-命令" class="headerlink" title="1.2 groupadd 命令"></a>1.2 groupadd 命令</h3><p>groupadd 命令用于创建用户组，格式为“groupadd [选项] 群组名”。  </p>
<h3 id="1-3usermod-命令"><a href="#1-3usermod-命令" class="headerlink" title="1.3usermod 命令"></a>1.3usermod 命令</h3><p>usermod 命令用于修改用户的属性，格式为“usermod [选项] 用户名”。  </p>
<div align="center">usermod 命令中的参数及作用 </div>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>填写用户账户的备注信息</td>
</tr>
<tr>
<td>-d -m</td>
<td>参数-m 与参数-d 连用，可重新指定用户的家目录并自动把旧的数据转移过去</td>
</tr>
<tr>
<td>-e</td>
<td>账户的到期时间，格式为 YYYY-MM-DD</td>
</tr>
<tr>
<td>-g</td>
<td>变更所属用户组</td>
</tr>
<tr>
<td>G</td>
<td>变更扩展用户组</td>
</tr>
<tr>
<td>-L</td>
<td>锁定用户禁止其登录系统</td>
</tr>
<tr>
<td>-U</td>
<td>解锁用户，允许其登录系统</td>
</tr>
<tr>
<td>-s</td>
<td>变更默认终端</td>
</tr>
<tr>
<td>-u</td>
<td>修改用户的 UID</td>
</tr>
</tbody></table>
<p><strong>例子</strong>：把用户zhu添加到root组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# usermod -G root zhu</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# id zhu</span><br><span class="line">uid&#x3D;1001(zhu) gid&#x3D;1001(zhu) 组&#x3D;1001(zhu),0(root)</span><br></pre></td></tr></table></figure>



<h3 id="1-4passwd-命令"><a href="#1-4passwd-命令" class="headerlink" title="1.4passwd 命令"></a>1.4passwd 命令</h3><p>passwd 命令用于修改用户密码、过期时间、认证信息等，格式为“passwd [选项] [用户名]”。  </p>
<div align="center">usermod 命令中的参数以及作用 </div>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>锁定用户，禁止其登录</td>
</tr>
<tr>
<td>-u</td>
<td>解除锁定，允许用户登录</td>
</tr>
<tr>
<td>–stdin</td>
<td>允许通过标准输入修改用户密码，如 echo “NewPassWord” | passwd –stdin Username</td>
</tr>
<tr>
<td>-d</td>
<td>使该用户可用空密码登录系统</td>
</tr>
<tr>
<td>-e</td>
<td>强制用户在下次登录时修改密码</td>
</tr>
<tr>
<td>-S</td>
<td>显示用户的密码是否被锁定，以及密码所采用的加密算法名称</td>
</tr>
</tbody></table>
<h3 id="1-5userdel-命令"><a href="#1-5userdel-命令" class="headerlink" title="1.5userdel 命令"></a>1.5userdel 命令</h3><p>userdel 命令用于删除用户，格式为“userdel [选项] 用户名”  。</p>
<div align="center">userdel 命令的参数以及作用 </div>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>强制删除用户</td>
</tr>
<tr>
<td>-r</td>
<td>同时删除用户及用户家目录</td>
</tr>
</tbody></table>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# userdel zhu</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# id zhu</span><br><span class="line">id: &quot;zhu&quot;: no such user</span><br></pre></td></tr></table></figure>



<h2 id="2-文件权限与归属"><a href="#2-文件权限与归属" class="headerlink" title="2.文件权限与归属"></a>2.文件权限与归属</h2><p>在 Linux 系统中，每个文件都有所属的所有者和所有组，并且规定了文件的所有者、所有组以及其他人对文件所拥有的可读（r）、可写（w）、可执行（x）等权限。对目录文件来说，“可读”表示能够读取目录内的文件列表；“可写”表示能够在目录内新增、删除、重命名文件；而“可执行”则表示能够进入该目录。    </p>
<p>文件的读、写、执行权限可以简写为 rwx，亦可分别用数字 4、 2、 1 来表示  。例如，若某个文件的权限为 7 则代表可读、可写、可执行（4+2+1）；若权限为 6 则代表可读、可写（4+2）。  </p>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# ls -l tian.txt</span><br><span class="line">-rw-rw-r-- 1 tian tian 14 7月  11 14:20 tian.txt</span><br></pre></td></tr></table></figure>

<p>这里表示文件的所有者、所有组以及其他人对tian.txt的权限分别是读写、读写、读。</p>
<h2 id="3-文件的特殊权限"><a href="#3-文件的特殊权限" class="headerlink" title="3.文件的特殊权限"></a>3.文件的特殊权限</h2><h3 id="3-1-SUID"><a href="#3-1-SUID" class="headerlink" title="3.1 SUID"></a>3.1 SUID</h3><p>SUID 可以让二进制程序的执行者临时拥有属主的权限 （就是root） </p>
<p>平时用户的密码是存储在shadow文件中，通过查看可以发现，其他人对shadow三个权限都没有，那普通用户为什么可以通过passwd命令更改自己的密码呢？就是因为在passwd加上了SUID 特殊权限位  ，这样就可以使得普通用户在使用passwd命令时暂时地获得root权限，进行密码更改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# ls -l &#x2F;etc&#x2F;shadow</span><br><span class="line">-rw-r----- 1 root shadow 1393 7月  14 23:26 &#x2F;etc&#x2F;shadow</span><br></pre></td></tr></table></figure>



<h3 id="3-2-SGID"><a href="#3-2-SGID" class="headerlink" title="3.2 SGID"></a>3.2 SGID</h3><p>SGID和SUID很像，只是SGID临时获得的是组的全线</p>
<p>SGID 主要实现如下两种功能：</p>
<blockquote>
<p><strong>(1)</strong>让执行者临时拥有属组的权限（对拥有执行权限的二进制程序进行设置）。<br><strong>(2)</strong>在某个目录中创建的文件自动继承该目录的用户组（只可以对目录进行设置）。</p>
</blockquote>
<p>  <strong>功能（1）例子</strong>：创建public_tian目录，并且更改目录权限</p>
<p>下面用到<strong>chmod</strong> 命令，能够用来设置文件或目录的权限，格式为“chmod [参数] 权限 文件或目录名称”。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 创建public_tian目录</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# mkdir public_tian</span><br><span class="line"># 查看权限</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# ls -ald public_tian</span><br><span class="line">drwxr-xr-x 2 root root 4096 7月  15 13:08 public_tian</span><br><span class="line"># 更改目录的权限为777，即rwxrwxrwx，</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# chmod -Rf 777 public_tian</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# ls -ald public_tian</span><br><span class="line">drwxrwxrwx 2 root root 4096 7月  15 13:08 public_tian</span><br><span class="line"># 添加SGID权限位</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# chmod -Rf g+s public_tian</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# ls -ald public_tian</span><br><span class="line">drwxrwsrwx 2 root root 4096 7月  15 13:08 public_tian</span><br></pre></td></tr></table></figure>

<p><strong>功能（2）例子</strong>：</p>
<p>使用命令为 chown，其格式为“chown [参数] 所有者:所属组 文件或目录名称”。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home# ls -ald zhu</span><br><span class="line">drwxrwxrwx 2 root root 4096 7月  15 14:02 zhu</span><br><span class="line"># 将目录zhu的所有者和所属组更改为zhu</span><br><span class="line">root@tian-virtual-machine:&#x2F;home# chown zhu:zhu &#x2F;home&#x2F;zhu</span><br><span class="line">root@tian-virtual-machine:&#x2F;home# ls -ald zhu</span><br><span class="line">drwxrwxrwx 2 zhu zhu 4096 7月  15 14:02 zhu</span><br></pre></td></tr></table></figure>



<h3 id="3-3-SBIT"><a href="#3-3-SBIT" class="headerlink" title="3.3 SBIT"></a>3.3 SBIT</h3><p>SBIT 特殊权限位可确保用户只能删除自己的文件，而不能删除其他用户的文件。  </p>
<p>想对其他目录来设置 SBIT 特殊权限位，用 chmod 命令就可以了。对应的参数 o+t 代表设置 SBIT 粘滞位权限  </p>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;zhu# ls -ald new</span><br><span class="line">drwxr-xr-x 2 root root 4096 7月  15 14:50 new</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;zhu# chmod -R o+t new</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;zhu# ls -ald new</span><br><span class="line">drwxr-xr-t 2 root root 4096 7月  15 14:50 new</span><br></pre></td></tr></table></figure>



<h2 id="4-文件的隐藏属性"><a href="#4-文件的隐藏属性" class="headerlink" title="4.文件的隐藏属性"></a>4.文件的隐藏属性</h2><h3 id="4-1-chattr-命令"><a href="#4-1-chattr-命令" class="headerlink" title="4.1 chattr 命令"></a>4.1 chattr 命令</h3><p>chattr 命令用于设置文件的隐藏权限，格式为“chattr [参数] 文件”。  </p>
<p>如果想要把某个隐藏功能添加到文件上，则需要在命令后面追加“+参数”，如果想要把某个隐藏功能移出文件，则需要追加“-参数”。  </p>
<div align="center">chattr 命令中用于隐藏权限的参数及其作用   </div>

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而 不能新建或删除文件</td>
</tr>
<tr>
<td>a</td>
<td>仅允许补充（追加）内容，无法覆盖/删除内容（Append Only）</td>
</tr>
<tr>
<td>S</td>
<td>文件内容在变更后立即同步到硬盘（sync）</td>
</tr>
<tr>
<td>s</td>
<td>彻底从硬盘中删除，不可恢复（用 0 填充原文件所在硬盘区域）</td>
</tr>
<tr>
<td>A</td>
<td>不再修改这个文件或目录的最后访问时间（atime）</td>
</tr>
<tr>
<td>b</td>
<td>不再修改文件或目录的存取时间</td>
</tr>
<tr>
<td>D</td>
<td>检查压缩文件中的错误</td>
</tr>
<tr>
<td>d</td>
<td>使用 dump 命令备份时忽略本文件/目录</td>
</tr>
<tr>
<td>c</td>
<td>默认将文件或目录进行压缩</td>
</tr>
<tr>
<td>u</td>
<td>当删除该文件后依然保留其在硬盘中的数据，方便日后恢复</td>
</tr>
<tr>
<td>t</td>
<td>让文件系统支持尾部合并（tail-merging）</td>
</tr>
<tr>
<td>X</td>
<td>可以直接访问压缩文件中的内容</td>
</tr>
</tbody></table>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 查看目录，tian.txt存在</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# ls</span><br><span class="line">hh.txt  public_tian  tian  tiana.sh  tian.gz  tian.txt  users_test.txt  zhu  公共的  模板  视频  图片  文档  下载  音乐  桌面</span><br><span class="line"># 使用chattr给tian.txt添加+a参数</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# chattr +a tian.txt</span><br><span class="line"># 尝试删除，无法删除</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# rm tian.txt</span><br><span class="line">rm: 无法删除&#39;tian.txt&#39;: 不允许的操作</span><br><span class="line"># 利用-a参数将限制去掉</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# chattr -a tian.txt</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# rm tian.txt</span><br><span class="line"># 查看目录，tian.txt已经被删除</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# ls</span><br><span class="line">hh.txt  public_tian  tian  tiana.sh  tian.gz  users_test.txt  zhu  公共的  模板  视频  图片  文档  下载  音乐  桌面</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian#</span><br></pre></td></tr></table></figure>



<h3 id="4-2-lsattr-命令"><a href="#4-2-lsattr-命令" class="headerlink" title="4.2 lsattr 命令"></a>4.2 lsattr 命令</h3><p>lsattr 命令用于显示文件的隐藏权限，格式为“lsattr [参数] 文件”。  </p>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# touch tian.txt</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# chattr +a tian.txt</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# lsattr tian.txt</span><br><span class="line">-----a--------e--- tian.txt</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# chattr -a tian.txt</span><br><span class="line">root@tian-virtual-machine:&#x2F;home&#x2F;tian# lsattr tian.txt</span><br><span class="line">--------------e--- tian.txt</span><br></pre></td></tr></table></figure>



<h2 id="5-文件访问控制列表"><a href="#5-文件访问控制列表" class="headerlink" title="5.文件访问控制列表"></a>5.文件访问控制列表</h2><p>如果希望对某个指定的用户进行单独的权限控制，就需要用到文件的访问控制列表（ACL）了。  </p>
<h3 id="5-1-setfacl-命令"><a href="#5-1-setfacl-命令" class="headerlink" title="5.1 setfacl 命令"></a>5.1 setfacl 命令</h3><ul>
<li><p>setfacl 命令用于管理文件的 ACL 规则，格式为“setfacl [参数] 文件名称”。  </p>
</li>
<li><p>使用 setfacl 命令可以针对单一用户或用户组、单一文件或目录来进行读/写/执行权限的控制。  </p>
</li>
<li><p>针对目录文件需要使用-R 递归参数；针对普通文件则使用-m 参数；如果想要删除某个文件的 ACL，则可以使用-b 参数。  </p>
</li>
</ul>
<h3 id="5-2-getfacl-命令"><a href="#5-2-getfacl-命令" class="headerlink" title="5.2 getfacl 命令"></a>5.2 getfacl 命令</h3><p>getfacl 命令用于显示文件上设置的 ACL 信息，格式为“getfacl 文件名称”。  </p>
<p><strong>例子</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# getfacl &#x2F;home&#x2F;tian&#x2F;zhu</span><br><span class="line">getfacl: 从绝对路径名尾部去除&quot; &#x2F; &quot;字符。</span><br><span class="line"># file: home&#x2F;tian&#x2F;zhu</span><br><span class="line"># owner: root</span><br><span class="line"># group: root</span><br><span class="line">user::rwx</span><br><span class="line">group::r-x</span><br><span class="line">other::r-x</span><br></pre></td></tr></table></figure>



<h2 id="6-su-命令与-sudo-服务"><a href="#6-su-命令与-sudo-服务" class="headerlink" title="6. su 命令与 sudo 服务"></a>6. su 命令与 sudo 服务</h2><h3 id="6-1-su-命令"><a href="#6-1-su-命令" class="headerlink" title="6.1 su 命令"></a>6.1 su 命令</h3><p>su 命令可以切换用户身份，使得当前用户在不退出登录的情况下，顺畅地切换到其他用户，比如从 root 管理员切换至普通用户：</p>
<p><strong>例子</strong>：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@tian-virtual-machine:~# su - zhu</span><br><span class="line">$ su - root</span><br><span class="line">密码： </span><br><span class="line">root@tian-virtual-machine:~#</span><br></pre></td></tr></table></figure>

<p>上面的 su 命令与用户名之间有一个减号（-），这意味着完全切换到新的用户，即把环境变量信息也变更为新用户的相应信息，而不是保留原始的信息。强烈建议在切换用户身份时添加这个减号（-）。  </p>
<h3 id="6-2-sudo-服务"><a href="#6-2-sudo-服务" class="headerlink" title="6.2 sudo 服务"></a>6.2 sudo 服务</h3><p>普通用户可以完全切换到 root 管理员身份来完成相应工作，但这将暴露 root 管理员的密码，从而增大了系统密码被黑客获取的几率；这并不是最安全的方案。  </p>
<p>sudo 命令用于给普通用户提供额外的权限来完成原本 root 管理员才能完成的任务，格式为“sudo [参数] 命令名称”。  </p>
<div align="center"> sudo 服务中的可用参数以及作用 </div>  

<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>列出帮助信息</td>
</tr>
<tr>
<td>-l</td>
<td>列出当前用户可执行的命令</td>
</tr>
<tr>
<td>-u 用户名或 UID 值</td>
<td>以指定的用户身份执行命令</td>
</tr>
<tr>
<td>-k</td>
<td>清空密码的有效时间，下次执行 sudo 时需要再次进行密码验证</td>
</tr>
<tr>
<td>-b</td>
<td>在后台执行指定的命令</td>
</tr>
<tr>
<td>-p</td>
<td>更改询问密码的提示语</td>
</tr>
</tbody></table>
<h1 id="第六章——存储结构与磁盘划分"><a href="#第六章——存储结构与磁盘划分" class="headerlink" title="第六章——存储结构与磁盘划分"></a>第六章——存储结构与磁盘划分</h1><h2 id="1-常见的目录"><a href="#1-常见的目录" class="headerlink" title="1.常见的目录"></a>1.常见的目录</h2><div align="center"> Linux 系统中常见的目录名称以及相应内容  </div>

<table>
<thead>
<tr>
<th>目录名称</th>
<th>应放置文件的内容</th>
</tr>
</thead>
<tbody><tr>
<td>/boot</td>
<td>开机所需文件—内核、开机菜单以及所需配置文件等</td>
</tr>
<tr>
<td>/dev</td>
<td>以文件形式存放任何设备与接口</td>
</tr>
<tr>
<td>/etc</td>
<td>配置文件</td>
</tr>
<tr>
<td>/home</td>
<td>用户家目录</td>
</tr>
<tr>
<td>/bin</td>
<td>存放单用户模式下还可以操作的命令</td>
</tr>
<tr>
<td>/lib</td>
<td>开机时用到的函数库，以及/bin 与/sbin 下面的命令要调用的函数</td>
</tr>
<tr>
<td>/sbin</td>
<td>开机过程中需要的命令</td>
</tr>
<tr>
<td>/media</td>
<td>用于挂载设备文件的目录</td>
</tr>
<tr>
<td>/opt</td>
<td>放置第三方的软件</td>
</tr>
<tr>
<td>/root</td>
<td>系统管理员的家目录</td>
</tr>
<tr>
<td>/srv</td>
<td>一些网络服务的数据文件目录</td>
</tr>
<tr>
<td>/tmp</td>
<td>任何人均可使用的“共享”临时目录</td>
</tr>
<tr>
<td>/proc</td>
<td>虚拟文件系统，例如系统内核、进程、外部设备及网络状态等</td>
</tr>
<tr>
<td>/usr/local</td>
<td>用户自行安装的软件</td>
</tr>
<tr>
<td>/usr/sbin</td>
<td>Linux 系统开机时不会使用到的软件/命令/脚本</td>
</tr>
<tr>
<td>/usr/share</td>
<td>帮助与说明文件，也可放置共享文件</td>
</tr>
<tr>
<td>/var</td>
<td>主要存放经常变化的文件，如日志</td>
</tr>
<tr>
<td>/lost+found</td>
<td>当文件系统发生错误时，将一些丢失的文件片段存放在这里</td>
</tr>
</tbody></table>
<ul>
<li>绝对路径指的是从根目录（/）开始写起的文件或目录名称</li>
</ul>
<h2 id="2-物理设备的命名规则"><a href="#2-物理设备的命名规则" class="headerlink" title="2.物理设备的命名规则"></a>2.物理设备的命名规则</h2><div align="center">常见的硬件设备及其文件名称  </div>

<table>
<thead>
<tr>
<th>硬件设备</th>
<th>文件名称</th>
</tr>
</thead>
<tbody><tr>
<td>IDE 设备</td>
<td>/dev/hd[a-d]</td>
</tr>
<tr>
<td>SCSI/SATA/U 盘</td>
<td>/dev/sd[a-p]</td>
</tr>
<tr>
<td>软驱</td>
<td>/dev/fd[0-1]</td>
</tr>
<tr>
<td>打印机</td>
<td>/dev/lp[0-15]</td>
</tr>
<tr>
<td>光驱</td>
<td>/dev/cdrom</td>
</tr>
<tr>
<td>鼠标</td>
<td>/dev/mouse</td>
</tr>
<tr>
<td>磁带机</td>
<td>/dev/st0 或/dev/ht0</td>
</tr>
</tbody></table>
<h2 id="3-文件系统与数据资料"><a href="#3-文件系统与数据资料" class="headerlink" title="3.文件系统与数据资料"></a>3.文件系统与数据资料</h2><p>这一章剩下的暂时省略，学下面的先</p>
<h1 id="第七章——使用-RAID-与-LVM-磁盘阵列技术"><a href="#第七章——使用-RAID-与-LVM-磁盘阵列技术" class="headerlink" title="第七章——使用 RAID 与 LVM 磁盘阵列技术"></a>第七章——使用 RAID 与 LVM 磁盘阵列技术</h1><p>也先省略</p>
<h1 id="第八章——iptables-与-firewalld-防火墙"><a href="#第八章——iptables-与-firewalld-防火墙" class="headerlink" title="第八章——iptables 与 firewalld 防火墙"></a>第八章——iptables 与 firewalld 防火墙</h1>
          
            <div class='article_footer'>
              
                
  
    
    



  

  
    
    



  

  
    
    

<section class="widget copyright  desktop mobile">
  <div class='content'>
    
      <blockquote>
        
          
            <p>博客内容遵循 署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</p>

          
        
          
            <p>本文永久链接是：<a href=https://tetedetian2.github.io/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/>https://tetedetian2.github.io/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/</a></p>
          
        
      </blockquote>
    
  </div>
</section>

  

  
    
    

<section class="widget qrcode  desktop mobile">
  

  <div class='content article-entry'>
    
  </div>
</section>

  


              
            </div>
          
        </div>
        
          


  <section class='meta' id="footer-meta">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2020-07-16T13:25:04+08:00">
  <a class='notlink'>
    <i class="fas fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：Jul 16, 2020</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Linux/" rel="nofollow"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i><p>Linux</p></a></div>


        
      
        
          

        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=https://tetedetian2.github.io/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/&title=Linux基础知识点 - 特特的天&summary=这里，有我学习linux的一些笔记^_^"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://tetedetian2.github.io/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/&title=Linux基础知识点 - 特特的天&summary=这里，有我学习linux的一些笔记^_^"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=https://tetedetian2.github.io/2020/07/20/Linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%82%B9/&title=Linux基础知识点 - 特特的天&summary=这里，有我学习linux的一些笔记^_^"
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/logo/128/weibo.png">
          
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


        
        
          <div class="prev-next">
            
              <a class='prev' href='/2020/07/20/markdown%E5%B0%8F%E6%8A%80%E5%B7%A7/'>
                <p class='title'><i class="fas fa-chevron-left" aria-hidden="true"></i>markdown小技巧</p>
                <p class='content'>markdown的基础语法以及一些稍微高级的用法




markdown是什么？
百度百科：Markdown是一种可以使用普通文本编辑器编写的标记语言，通过简单的标记语法，它可以使普通文本内容...</p>
              </a>
            
            
              <a class='next' href='/2020/07/20/Hexo%E5%8A%9F%E8%83%BD%E8%AE%BE%E7%BD%AE/'>
                <p class='title'>Hexo功能设置<i class="fas fa-chevron-right" aria-hidden="true"></i></p>
                <p class='content'>这里有一些hexo功能的使用方法以及注意点（我踩过的坑…）
如何给文章添加标签1.建立一个标签配置文件
在博客文件夹下，执行下面的命令
1hexo new page tags

执行后，会在so...</p>
              </a>
            
          </div>
        
      </section>
    </article>
  

  
    
  <article class="post white-box reveal comments shadow">
    <section class="article typo">
      <p ct><i class='fas fa-comments'></i> 评论</p>
      
      <section id="comments">
        <div id="valine_container" class="valine_thread">
  <i class="fas fa-cog fa-spin fa-fw fa-2x"></i>
</div>

      </section>
    </section>
  </article>


  




<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->


</div>
<aside class='l_side'>
  
  

  
    
    



  <section class="widget toc-wrapper shadow desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fas fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#一、linux基础命令"><span class="toc-text">一、linux基础命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-命令格式"><span class="toc-text">1.命令格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-常用系统工作命令"><span class="toc-text">2.常用系统工作命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-系统状态检测命令"><span class="toc-text">2.系统状态检测命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-工作目录切换命令"><span class="toc-text">3.工作目录切换命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-文本文件编辑命令"><span class="toc-text">4.文本文件编辑命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-文件目录管理命令"><span class="toc-text">5.文件目录管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-打包与压缩的命令"><span class="toc-text">6.打包与压缩的命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第三章——管道符、重定向与环境变量"><span class="toc-text">第三章——管道符、重定向与环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-输入输出重定向"><span class="toc-text">1.输入输出重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-管道命令符（-）"><span class="toc-text">2.管道命令符（|）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-命令行的通配符"><span class="toc-text">3.命令行的通配符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-常用的转义字符"><span class="toc-text">4.常用的转义字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-重要的环境变量"><span class="toc-text">5.重要的环境变量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第四章——Vim-编辑器与-Shell-命令脚本"><span class="toc-text">第四章——Vim 编辑器与 Shell 命令脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Vim-文本编辑器"><span class="toc-text">1.Vim 文本编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1三种模式"><span class="toc-text">1.1三种模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-常用命令"><span class="toc-text">1.2 常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-编写-Shell-脚本"><span class="toc-text">2.编写 Shell 脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1编写一个简单脚本"><span class="toc-text">2.1编写一个简单脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-接收用户的参数"><span class="toc-text">2.2 接收用户的参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3判断用户的参数"><span class="toc-text">2.3判断用户的参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4流程控制语句"><span class="toc-text">2.4流程控制语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5计划任务服务程序"><span class="toc-text">2.5计划任务服务程序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第五章——用户身份与文件权限"><span class="toc-text">第五章——用户身份与文件权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-用户身份与能力"><span class="toc-text">1.用户身份与能力</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-useradd-命令"><span class="toc-text">1.1 useradd 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-groupadd-命令"><span class="toc-text">1.2 groupadd 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3usermod-命令"><span class="toc-text">1.3usermod 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4passwd-命令"><span class="toc-text">1.4passwd 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5userdel-命令"><span class="toc-text">1.5userdel 命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-文件权限与归属"><span class="toc-text">2.文件权限与归属</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-文件的特殊权限"><span class="toc-text">3.文件的特殊权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-SUID"><span class="toc-text">3.1 SUID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-SGID"><span class="toc-text">3.2 SGID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-SBIT"><span class="toc-text">3.3 SBIT</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-文件的隐藏属性"><span class="toc-text">4.文件的隐藏属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-chattr-命令"><span class="toc-text">4.1 chattr 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-lsattr-命令"><span class="toc-text">4.2 lsattr 命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-文件访问控制列表"><span class="toc-text">5.文件访问控制列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-setfacl-命令"><span class="toc-text">5.1 setfacl 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-getfacl-命令"><span class="toc-text">5.2 getfacl 命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-su-命令与-sudo-服务"><span class="toc-text">6. su 命令与 sudo 服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-su-命令"><span class="toc-text">6.1 su 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-sudo-服务"><span class="toc-text">6.2 sudo 服务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第六章——存储结构与磁盘划分"><span class="toc-text">第六章——存储结构与磁盘划分</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-常见的目录"><span class="toc-text">1.常见的目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-物理设备的命名规则"><span class="toc-text">2.物理设备的命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-文件系统与数据资料"><span class="toc-text">3.文件系统与数据资料</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第七章——使用-RAID-与-LVM-磁盘阵列技术"><span class="toc-text">第七章——使用 RAID 与 LVM 磁盘阵列技术</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第八章——iptables-与-firewalld-防火墙"><span class="toc-text">第八章——iptables 与 firewalld 防火墙</span></a></li></ol>
    </div>
  </section>


  


</aside>



    </div>
    
  
  <footer class="clearfix">
    <br><br>
    
      
        <div class="aplayer-container">
          

  
    <meting-js
      theme='#1BCDFC'
      autoplay='false'
      volume='0.7'
      loop='all'
      order='list'
      fixed='false'
      list-max-height='340px'
      server='netease'
      type='playlist'
      id='5131789159'
      list-folded='true'>
    </meting-js>
  


        </div>
      
    
      
        <br>
        <div class="social-wrapper">
          
            
              <a href="/atom.xml"
                class="social fas fa-rss flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
            
              <a href="mailto:me@xaoxuu.com"
                class="social fas fa-envelope flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
            
              <a href="https://github.com/xaoxuu"
                class="social fab fa-github flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
            
              <a href="https://music.163.com/#/user/home?id=63035382"
                class="social fas fa-headphones-alt flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
              </a>
            
          
        </div>
      
    
      
        <div><p>Blog content follows the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) License</a></p>
</div>
      
    
      
        Use
        <a href="https://volantis.js.org/" target="_blank" class="codename">Volantis</a>
        as theme, total visits
          <span id="busuanzi_value_site_pv"><i class="fas fa-circle-notch fa-spin fa-fw" aria-hidden="true"></i></span>
          times
        
      
    
      
        <div class='copyright'>
        <p><a href="https://xaoxuu.com" target="_blank" rel="noopener">Copyright © 2017-2020 Mr. X</a></p>

        </div>
      
    
  </footer>


    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <div>
    
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4/dist/jquery.min.js"></script>



  <script>
    
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/" || "/";
    if (!ROOT.endsWith('/')) ROOT += '/';
  </script>





  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/instant_page.js" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>



  
  
  
    
<script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script>

    <script type="text/javascript">
      $(function(){
        var imgs=["https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/BBC19066-E176-47C2-9D22-48C81EE5DF6B.jpeg", "https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg", "https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/35F12181-F0E9-45BD-B134-37E4B4A660CF.jpeg", "https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg", "https://cdn.jsdelivr.net/gh/xaoxuu/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg"];
        if ('true' == 'true') {
          function shuffle(arr){
            /*From countercurrent-time*/
            var n = arr.length;
            while(n--) {
              var index = Math.floor(Math.random() * n);
              var temp = arr[index];
              arr[index] = arr[n];
              arr[n] = temp;
            }
          }
          shuffle(imgs);
        }
        if ('') {
          $('').backstretch(
            imgs,
          {
            duration: "20000",
            fade: "1500"
          });
        } else {
          $.backstretch(
            imgs,
          {
            duration: "20000",
            fade: "1500"
          });
        }
      });
    </script>
  



  
    
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>

  
    
<script src="https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js"></script>

  


<!-- 评论 （PS：只对 valine 做了 Pjax 兼容） -->

  
  
<script src="/js/valine.js"></script>


<script>
  var GUEST_INFO = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link'.split(',').filter(function (item) {
    return GUEST_INFO.indexOf(item) > -1
  });
  var REQUIRED_FIELDS = ['nick', 'mail', 'link'];
  var requiredFields = 'nick,mail'.split(',').filter(function (item) {
    return REQUIRED_FIELDS.indexOf(item) > -1
  });

  function emoji(path, idx, ext) {
    return path + "/" + path + "-" + idx + "." + ext;
  }

  var emojiMaps = {};
  for (var i = 1; i <= 54; i++) {
    emojiMaps['tieba-' + i] = emoji('tieba', i, 'png');
  }
  for (var i = 1; i <= 101; i++) {
    emojiMaps['qq-' + i] = emoji('qq', i, 'gif');
  }
  for (var i = 1; i <= 116; i++) {
    emojiMaps['aru-' + i] = emoji('aru', i, 'gif');
  }
  for (var i = 1; i <= 125; i++) {
    emojiMaps['twemoji-' + i] = emoji('twemoji', i, 'png');
  }
  for (var i = 1; i <= 4; i++) {
    emojiMaps['weibo-' + i] = emoji('weibo', i, 'png');
  }

  function pjax_valine() {
    var valinePath = $.trim($('#valine-path').text()) === "none" ?
            window.location.pathname : $.trim($('#valine-path').text());

    var valinePlaceholder = $.trim($('#valine-placeholder').text()) === "none" ?
            "快来评论吧~" : $.trim($('#valine-placeholder').text());

    var ALLPATH = '';
    if(ALLPATH != '') valinePath = ALLPATH;

    var valine = new Valine();
    valine.init({
      el: '#valine_container',
      meta: meta,
      placeholder: valinePlaceholder,
      path: valinePath,
      appId: "dogUA2FSKGTo029M1SEwGROT-MdYXbMMI",
      appKey: "u0NdtQ8nvHoMdJPSYqm1LRxE",
      pageSize: '10',
      avatar: 'robohash',
      lang: 'zh-cn',
      visitor: 'true',
      highlight: 'true',
      mathJax: 'false',
      enableQQ: 'true',
      requiredFields: requiredFields,
      emojiCDN: 'https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/',
      emojiMaps: emojiMaps
    })
  }

  $(function () {
    pjax_valine();
  });
</script>




<!-- darkmodejs -->



<!-- 复制 -->

  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
    var clipboard = new ClipboardJS('.btn-copy', {
        target: function (trigger) {
            return trigger.nextElementSibling
        }
    });
    function wait(callback, seconds) {
        var timelag = null;
        timelag = window.setTimeout(callback, seconds)
    }
    function pjax_initCopyCode() {
        var copyHtml = '';
        copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
        copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
        copyHtml += '</button>';
        $(".highlight .code pre").before(copyHtml);
        $(".article pre code").before(copyHtml);
        clipboard.off('success').on('success', function (e) {
            let $btn = $(e.trigger);
            $btn.addClass('copied');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-check-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPIED';
            wait(function () {
                $icon.removeClass('fa-check-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        });
        clipboard.off('error').on('error', function (e) {
            e.clearSelection();
            let $btn = $(e.trigger);
            $btn.addClass('copy-failed');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-times-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPY FAILED';
            wait(function () {
                $icon.removeClass('fa-times-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        })
    }
    $(function () {
        pjax_initCopyCode()
    });
</script>


<!-- scrollreveal -->

  <script src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.6/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    function pjax_scrollrebeal() {
      ScrollReveal().reveal('.l_main .reveal', {
        distance: '32px',
        duration: '800',
        interval: '20',
        scale: '1',
        easing: 'ease-out'
      });
    }

    $(function () {
      pjax_scrollrebeal();
    });
  </script>

<!-- ******************************** -->

<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  function pjax_fancybox() {
    $(".article-entry").find("img").not('.inline').not('a img').each(function () { //渲染 fancybox
      var element = document.createElement("a"); // a 标签
      $(element).attr("pjax-fancybox", "");  // 过滤 pjax
      $(element).attr("href", $(this).attr("src"));
      if ($(this).attr("data-original")) {
        $(element).attr("href", $(this).attr("data-original"));
      }
      $(element).attr("data-fancybox", "images");
      var caption = "";   // 描述信息
      if ($(this).attr('alt')) {  // 判断当前页面是否存在描述信息
        $(element).attr('data-caption', $(this).attr('alt'));
        caption = $(this).attr('alt');
      }
      var div = document.createElement("div");
      $(div).addClass("fancybox");
      $(this).wrap(div); // 最外层套 div ，其实主要作用还是 class 样式
      var span = document.createElement("span");
      $(span).addClass("image-caption");
      $(span).text(caption); // 加描述
      $(this).after(span);  // 再套一层描述
      $(this).wrap(element);  // 最后套 a 标签
    })
    $(".article-entry").find("img").fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
      closeClick: true,
      helpers: {
        overlay: {closeClick: true}
      },
      buttons: [
        "zoom",
        "close"
      ]
    });
  };
  $(function () {
    pjax_fancybox();
  });
</script>

<!-- ******************************** -->


  
<script src="/js/app.js"></script>




  
    
<script src="/js/search.js"></script>

  



  <script defer src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js" data-pjax></script>



  
<script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>

  <script type="text/javascript">
    $(function () {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>



  
<script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/comment_typing.js"></script>







    
      


<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>

<!-- 样式位于：source/css/_third-party/pjaxanimate.styl -->

<div class="pjax-animate">
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
    <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>
    <div id="loading-bar-wrapper"><script>NProgress.configure({parent:"#loading-bar-wrapper",trickleSpeed: 100})</script></div>
    <script>
      window.ShowLoading = function() {
        NProgress.start();
      };
      window.HideLoading = function() {
        NProgress.done();
      }
    </script>
  
</div>

<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      window.stop(); // 相当于点击了浏览器的停止按钮
      var currentUrl = window.location.pathname;
      var targetUrl = e.triggerElement.href;
      var banUrl = [""];
      if (banUrl[0] != "") {
        banUrl.forEach(item => {
          if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
            window.location.href = targetUrl;
          }
        });
      }
      window.subData = null; // 移除标题（用于一二级导航栏切换处）
      $.fancybox.close();    // 关闭弹窗
      $('.nav-main').find('.list-v').not('.menu-phone').css("display","none"); // 移除小尾巴
      $('.menu-phone.list-v').css("display","none"); // 移除小尾巴
      $('.l_header .switcher .s-search').removeClass('active'); // 关闭移动端激活的搜索框
      $('.l_header').removeClass('z_search-open'); // 关闭移动端激活的搜索框
      $('.wrapper').removeClass('sub'); // 跳转页面时关闭二级导航

      $('.s-top').unbind('click');   // 解绑
      $('.menu a').unbind('click');  // 解绑
      $(window).unbind('resize');    // 解绑
      $(window).unbind('scroll');    // 解绑
      $(document).unbind('scroll');  // 解绑
      $(document).unbind('click');   // 解绑
      $('body').unbind('click');     // 解绑
      window.ShowLoading();
    });

    document.addEventListener('pjax:complete', function () {
      // 关于百度统计对 SPA 页面的处理：
      // 方案一：百度统计>管理>单页应用设置中，打开开启按钮即可对SPA进行统计。 https://tongji.baidu.com/web/help/article?id=324
      // 方案二：取消注释下列代码。 https://tongji.baidu.com/web/help/article?id=235
      // 

      // 关于谷歌统计对 SPA 页面的处理：
      // 当应用以动态方式加载内容并更新地址栏中的网址时，也应该更新通过 gtag.js 存储的网页网址。
      // https://developers.google.cn/analytics/devguides/collection/gtagjs/single-page-applications?hl=zh-cn
      

      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });

      try{
        pjax_fancybox();
        
          
          if ('') {
            $('').backstretch("resize");
          } else {
            $.backstretch("resize");
          }
        
        
        
          pjax_scrollrebeal();
        
        
          pjax_initCopyCode();
        
        
          pjax_valine();
        
        
        
      } catch (e) {
        console.log(e);
      }
      window.HideLoading();
    });

    document.addEventListener('pjax:error', function (e) {
      window.HideLoading();
      window.location.href = e.triggerElement.href;
    });
</script>

    
  </div>
</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>